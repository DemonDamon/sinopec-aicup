# 基于客户数据的智能营销决策比赛

## 背景介绍
在竞争白热化的成品油零售市场，加油站与能源公司正面临严峻挑战：传统 “广撒网” 式营销，如普适性折扣、无差别发放优惠券等，不仅成本居高不下，实际效果也往往不尽如人意，难以有效提升用户忠诚度和消费额。
 
为破解这一困局，借助人工智能技术实现精细化运营与精准营销成为关键。通过深度挖掘用户消费数据，构建精准的用户用券画像，进而预测不同用户对特定营销券活动的响应概率，能为业务部门提供有力支撑 —— 将合适的优惠（优惠券）精准触达最可能产生响应的目标用户。
 
这样既能严格控制营销成本，又能最大限度提升活动效果，同时增强用户满意度，最终实现用户忠诚度与消费额的双重提升。

## 竞赛任务
参赛者需要根据数据集提供的用户消费数据以及优惠券相关数据（钱包交易数据、优惠券发放数据、优惠券使用数据），预测用户对营销活动的响应可能性。

## 数据说明
本次比赛的数据已全部进行脱敏处理。处于数据隐私安全性考虑，真实场景数据中的部分数据无法公开发布，所以本赛题在一些数据字段的匹配上存在一定难度。我们鼓励选手尝试多种方法利用现有数据使模型达到最佳效果。

1. 钱包交易数据表(cust_wallet_detail.csv)
order_no / external_order_no (订单号 / 外部订单号)
含义: 交易的唯一ID。order_no是系统内部的订单号，external_order_no是关联的第三方或支付平台的订单号。
user_id (用户ID)
含义: 经过脱敏处理的用户唯一编号。
重要性: 构建用户画像的核心ID。所有与“人”相关的分析，如消费频率、用户分群等，都将围绕此字段展开。
membercode（会员编码）
含义: 会员编码。
重要性：与发券用券表客户进行关联。
station_code / station_name
含义: 交易发生的加油站的唯一编码和名称。
sale_time (销售时间)
含义: 交易发生的精确到秒的时间戳。
tran_amt / receivable_amt (交易金额 / 应收金额 )
含义: tran_amt是商品原价总额；receivable_amt是应收总额。
discounts_amt / point_amt / coupon_amt (折扣金额 / 积分抵扣金额 / 优惠券抵扣金额)
含义: 分别记录了通用折扣、积分兑换和优惠券带来的优惠金额。
attributionorgcode / transactionorgcode (注册省编码 / 交易省编码)
含义: 用户注册省市与消费省市编码。
Coupon_code (电子券编码)
含义: 核销电子券编码。
重要性：可与优惠券使用电子券编码关联。
2.优惠券使用(cust_coupon_detail_used.csv）
marketcode （营销活动编号）
含义: 营销活动编码。
marketrulenumber （活动细则编号）
含义: 营销规则编码。
重要性：营销活动细则编码，细则编码对应多个规则编码。
voucherrulecode （规则编码）
含义: 电子券规则编码。
vouchercode （电子券编码）
含义: 电子券编号。
vouchertype （电子券类型）
含义: C01：现金券，C02：满抵券，C04：折扣券。
vouchername （电子券名称）
含义: 电子券中文名称。
transtime （使用时间）
含义: 电子券使用时间，使用时间：yyyy-MM-dd HH:mm:ss 。
provinceCode （省份）
含义: 电子券所属省份。
membercode（会员编码）
含义: 会员编码。
重要性：与发券、交易数据进行关联。
channel （使用渠道）
含义: 电子券实际使用渠道。
netCode （使用网点）
含义: 电子券实际使用网点。
couponUseMoney （使用金额）
含义: 电子券使用金额，单位分。
3. 优惠券发放(cust_coupon_detail_send.csv)
marketcode (营销活动编号)
含义: 营销活动编码。
marketrulenumber (活动细则编号)
含义: 营销规则编码。
重要性：营销活动细则编码，细则编码对应多个规则编码。
membercode（会员编码）
含义: 会员编码。
重要性：与用券、流水表客户进行关联。
marketprovince （省份)
含义: 活动省份。
voucherruleCode (电子券规则编码)
含义: 含义: 电子券规则编码。
voucherrulename (电子券规则名称)
含义: 电子券规则名称。
voucherstarttime (电子券生效时间)
含义: 电子券生效时间。
voucherendTime (电子券失效时间)
含义: 电子券失效时间。
vouchertype (电子券类型)
含义: C01：现金券，C02：满抵券，C04：折扣券。
fulltype (电子券小类型)
含义: 如果电子券类型为C02满抵券的时候为必填项，01：满额抵，02：满额赠
usechannel (用券渠道)
含义: 电子券使用渠道。
cashvalue (电子券面额)
含义: 电子券使用金额，单位分。
topamount (电子券满额)
含义: 电子券为满抵券时必填，为满足金额条件,单位分。
endnumber (剩余数量)
含义: 电子券剩余数量。
* 使用优惠券为发放优惠券数据的子集。

文件包中以_train为尾缀的文件对应训练集文件，_validation尾缀的文件对应验证集文件。
cust_wallet_detail_validation_without_truth.csv 为初赛待预测的用户数据，文件格式与train相同但是不提供用户是否使用优惠券相关的数据。

4. 提交文件 sample_submission.csv
规定了初赛提交以及模型输出文件的格式。包含id与predict。
其中:

id为交易数据表中对应的订单号order_no。
predict为预测该用户响应营销事件的可能性的AUC结果值。

## 评测方法
1. 初赛阶段
选手需要提交一个.csv 的文件，该文件必须严格遵循以下格式：

文件必须包含表头。
文件包含两列：id 和 predict。
id 为交易数据表中对应的订单号order_no。
predict 为预测该用户响应营销事件的可能性的AUC结果值。
提交样例：

id,predict
33300146PCITC2025042050109,0.22
33300637PCITC2025042050041,0.24
33302099PCITC2025042050210,0.74
33300112PCITC2025042050883,0.34
33300463PCITC2025042050068,0.28
33302339PCITC2025042050033,0.47
33303219PCITC2025042050379,0.05

2. 决赛阶段
晋级队伍需要按照比赛要求，提交Docker文件，由组委会在特定的环境下运行模型进行评测。
具体提交规则请参看：规则页面

模型输入：

待预测用户交易数据，格式同cust_wallet_detail_validation_without_truth.csv。
对应待预测用户的优惠券发放数据，格式同cust_coupon_detail_send_validation.csv。
模型输出：

用户对营销事件响应可能性的预测结果.csv文件，格式与初赛提交文件格式相同。
评测方法
本赛题是一个典型的二分类问题（用户响应或不响应），参赛选手需要提交响应的预测概率，并采用AUC (Area Under the ROC Curve) 作为主要的评测指标。

## 赛题 Q & A
Q1. wallet数据中有部分使用了优惠券的数据未能匹配到used数据中，如何定义已响应营销事件的数据？
A：在wallet数据表中，”coupon_code”列为非空值（即值为已核销使用的电子券编码）以及同时在wallet数据表与used数据表中能够通过”cupon_code”与”voucher_code”进行匹配的数据，均视作用户响应了此次营销事件。

Q2. 优惠券used数据是send数据的子集吗？
A：是的，used数据为send数据的子集。

Q3. 钱包交易数据表的部分user_id为nan，但是会员编码存在，是否可以认为相同会员编码为同一用户？
A：是的，相同的member_code可以认定为同一用户。member_code也是关联几个数据表的重要字段。